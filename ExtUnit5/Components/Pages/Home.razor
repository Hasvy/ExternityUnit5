@page "/"

<PageTitle>Home</PageTitle>

<h3>Dashboard</h3>

@if (!_isLoading)
{
    <div class="row">
        <div class="col-8 p-0 chart-wrap upper-blocks" style="border-bottom-width: 2px">
            <div class="bg-info rounded-3">
                <h3 class="m-0 ms-2">Graf objednávek</h3>
            </div>
            <div class="border embed-responsive embed-responsive-21by9">
                @OrdersChart
            </div>
        </div>
        <div class="col-4 p-0 chart-wrap upper-blocks" style="border-bottom-width: 2px">
            <div class="bg-warning rounded-3">
                <h3 class="m-0 ms-2">Metriky</h3>
            </div>
            <table class="table table-hover table-bordered" style="margin-top: 100px">
                <thead>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">průměrný počet objednávek za den</th>
                        <td>@meanOrdersValue</td>
                    </tr>
                    <tr>
                        <th scope="row">celkový počet objednávek</th>
                        <td>@totalOrdersCount</td>
                    </tr>
                    <tr>
                        <th scope="row">průměrná cena objednávky</th>
                        <td>@meanOrdersAmount</td>
                    </tr>
                    <tr>
                        <th scope="row">zákazníků se přidalo za měsíc</th>
                        <td>@GetNewCustomersCount()</td>
                    </tr>
                    <tr>
                        <th scope="row">pravidelných zákazníků</th>
                        <td>@GetRegularCustomersCount()</td>
                    </tr>
                    <tr>
                        <th scope="row">VIP zákazníků</th>
                        <td>@GetVipCustomersCount()</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row p-0 chart-wrap bottom-blocks">
        <div class="bg-info rounded-3">
            <h3>Produktové trendy</h3>
        </div>
        <div class="col-10">
            @GetProductTrendsChart()
        </div>
        <div class="col-2 card">
            <table class="table table-hover table-bordered">
                <thead class="bg-opacity-50" style="background-color: lawngreen">
                    <tr>
                        <th scope="row">populární</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in popularProducts)
                    {
                    <tr>
                        <td>@item</td>
                    </tr>
                    }
                </tbody>
                <thead class="bg-opacity-50" style="background-color: yellow">
                    <tr>
                        <th scope="row">neutrální</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in neutralProducts)
                    {
                        <tr>
                            <td>@item</td>
                        </tr>
                    }
                </tbody>
                <thead class="bg-opacity-50" style="background-color: red">
                    <tr>
                        <th scope="row">nepopulární</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in unpopularProducts)
                    {
                        <tr>
                            <td>@item</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
}